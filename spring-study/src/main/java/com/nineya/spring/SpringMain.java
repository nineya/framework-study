package com.nineya.spring;import com.nineya.spring.entity.Post;import org.springframework.beans.MutablePropertyValues;import org.springframework.beans.PropertyValue;import org.springframework.beans.factory.support.DefaultListableBeanFactory;import org.springframework.beans.factory.support.GenericBeanDefinition;import java.util.ArrayList;import java.util.List;public class SpringMain {    public static void main(String[] args) {        System.out.println(SpringMain.class.getPackage().getImplementationVersion());        // 创建bean工厂        DefaultListableBeanFactory context = new DefaultListableBeanFactory();        //构造bean定义        GenericBeanDefinition gbd = new GenericBeanDefinition();        gbd.setBeanClass(Post.class);        // 设置属性        List<PropertyValue> propertyValues = new ArrayList<>();        propertyValues.add(new PropertyValue("id", 123L));        propertyValues.add(new PropertyValue("title", "title"));        gbd.setPropertyValues(new MutablePropertyValues(propertyValues));        //注册到环境上下文        context.registerBeanDefinition("post", gbd);        // 通过class取得bean        Post post = context.getBean(Post.class);        System.out.println(post + " : " + post.hashCode());        // 通过名称取得bean        post = (Post) context.getBean("post");        System.out.println(post + " : " + post.hashCode());    }}